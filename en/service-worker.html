
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Service Worker Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="debugging-production.html" />
    
    
    <link rel="prev" href="savingreading-local-files.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="getting_started.html">
            
                <a href="getting_started.html">
            
                    
                    Getting Started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="project_structure.html">
            
                <a href="project_structure.html">
            
                    
                    Project Structure
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="file-tree.html">
            
                <a href="file-tree.html">
            
                    
                    File Tree
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="renderer-process.html">
            
                <a href="renderer-process.html">
            
                    
                    Renderer Process
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="main-process.html">
            
                <a href="main-process.html">
            
                    
                    Main Process
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="webpack-configurations.html">
            
                <a href="webpack-configurations.html">
            
                    
                    Webpack Configurations
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="development.html">
            
                <a href="development.html">
            
                    
                    Development
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="entry_indexhtml.html">
            
                <a href="entry_indexhtml.html">
            
                    
                    Entry index.html
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="vue_accessories.html">
            
                <a href="vue_accessories.html">
            
                    
                    Vue Plugins
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="npm_scripts.html">
            
                <a href="npm_scripts.html">
            
                    
                    NPM Scripts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="using_css_frameworks.html">
            
                <a href="using_css_frameworks.html">
            
                    
                    Using CSS Frameworks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="using_pre-processors.html">
            
                <a href="using_pre-processors.html">
            
                    
                    Using Pre-Processors
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="using-static-assets.html">
            
                <a href="using-static-assets.html">
            
                    
                    Using Static Assets
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="savingreading-local-files.html">
            
                <a href="savingreading-local-files.html">
            
                    
                    Read & Write Local Files
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4.8" data-path="service-worker.html">
            
                <a href="service-worker.html">
            
                    
                    Service Worker
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="debugging-production.html">
            
                <a href="debugging-production.html">
            
                    
                    Debugging
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="building_your_app.html">
            
                <a href="building_your_app.html">
            
                    
                    Building Your App
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="using-electron-packager.html">
            
                <a href="using-electron-packager.html">
            
                    
                    Using electron-packager
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="using-electron-builder.html">
            
                <a href="using-electron-builder.html">
            
                    
                    Using electron-builder
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="settings.html">
            
                <a href="settings.html">
            
                    
                    Settings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="testing.html">
            
                <a href="testing.html">
            
                    
                    Testing
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="unittesting.html">
            
                <a href="unittesting.html">
            
                    
                    Unit Testing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="end-to-end_testing.html">
            
                <a href="end-to-end_testing.html">
            
                    
                    End-to-End Testing
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="meta.html">
            
                <a href="meta.html">
            
                    
                    Meta
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="faqs.html">
            
                <a href="faqs.html">
            
                    
                    FAQs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="new-releases.html">
            
                <a href="new-releases.html">
            
                    
                    New Releases
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="migration-guide.html">
            
                <a href="migration-guide.html">
            
                    
                    Migration Guide
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="contributing.html">
            
                <a href="contributing.html">
            
                    
                    Contributing
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Service Worker</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="service-worker">Service worker</h1>
<p>A service worker helps the app working offline by caching resources:
scripts and assets. To
learn more about service worker in general, you can read <a href="https://developers.google.com/web/fundamentals/primers/service-workers/" target="_blank">Service Workers: an Introduction</a>.</p>
<h2 id="implementation-in-electron-vue">Implementation in electron-vue</h2>
<p>The included service worker is meant to be a demo of usage of service
worker and also provides two use-case scenarios: network first and cache
first. Both scenarios means that user can use your app offline even with
online assets.</p>
<h3 id="network-first">Network first</h3>
<p>This is the default strategy implemented in the service worker. All
scripts and assets are fetched from network. But if it fails, because the user is
offline or a server is down, scripts and assets are retrieved from
cache.</p>
<p>This is useful if you know your assets will change often, or you are in
developement and assets change a lot.</p>
<h4 id="http-cache">HTTP Cache</h4>
<p>A service worker still sits in browser and its requests goes through the
browser&apos;s HTTP cache. That means that even if the service worker tries
to request an online resource, the browser may reply with a cached asset
instead of making the request.</p>
<p>We tried to add an option to bypass this behavior and always make online
requests, but that does not work yet. We may work again on it if this
feature is useful. In the meantime, configure your asset server with
<code>max-age:0</code>.</p>
<p>Learn more about this by reading <a href="https://hacks.mozilla.org/2016/03/referrer-and-cache-control-apis-for-fetch/" target="_blank">Referrer and cache control APIs for
fetch()</a></p>
<h3 id="cache-first">Cache first</h3>
<p>This strategy can be activated by changing the setting
<code>serviceWorker.cacheFirst</code> to <code>true</code>. All resources are fetched from
network only once and the always retrieved from cache.</p>
<p>This is useful if you know your assets will never change.</p>
<h3 id="advanced-scenarios">Advanced scenarios</h3>
<p>You may want to have a specific strategy for your application, like
having mixing the two strategies: having some assets that should be
network first, and some that should be cache first, we encourage you to
edit the <code>src/renderer/lib/service-worker.js</code> of your application.<br>Make sure to unregister the old service worker.</p>
<p>Service worker are very powerful, you could also implement a strategy
for posting data while offline, by interception POST requests and keep
the data in cache for later use.</p>
<h2 id="settings">Settings</h2>
<ul>
<li><code>enable</code>: you can disable the service worker. Even if it is still
installed, it will bypass all requests to browser.</li>
<li><code>cacheFirst</code>: Retrieve resources from cache if present.</li>
</ul>
<h2 id="debug">Debug</h2>
<h3 id="logging">Logging</h3>
<p>To activate logging, edit the <code>src/renderer/lib/service-worker.js</code>, and
set <code>DEBUG</code> to true.</p>
<h3 id="inspector">Inspector</h3>
<p>The inspector has everything you need to debug service worker in the
<code>application</code> tab. From there, you can bypass the service worker, check
what is in the cache, unregister, etc.</p>
<h2 id="building-for-web">Building for web</h2>
<p>When building for web, webpack will add a list of your app&apos;s resources
in the service worker file, for it to cache all your app
resources during it&apos;s install.</p>
<h2 id="useful-resources">Useful resources</h2>
<ul>
<li><a href="https://github.com/Itera/learn-service-worker" target="_blank">Learn to use ServiceWorkers</a></li>
<li><a href="https://developers.google.com/web/fundamentals/primers/service-workers/" target="_blank">Service Workers: an Introduction</a></li>
<li>the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API" target="_blank">MDN web doc</a></li>
<li><a href="https://hacks.mozilla.org/2016/03/referrer-and-cache-control-apis-for-fetch/" target="_blank">Referrer and cache control APIs for
fetch()</a></li>
<li><a href="https://chromium.googlesource.com/chromium/src/+/master/docs/security/service-worker-security-faq.md" target="_blank">Service Worker Security
FAQ</a></li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="savingreading-local-files.html" class="navigation navigation-prev " aria-label="Previous page: Read & Write Local Files">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="debugging-production.html" class="navigation navigation-next " aria-label="Next page: Debugging">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Service Worker","level":"1.4.8","depth":2,"next":{"title":"Debugging","level":"1.4.9","depth":2,"path":"debugging-production.md","ref":"debugging-production.md","articles":[]},"previous":{"title":"Read & Write Local Files","level":"1.4.7","depth":2,"path":"savingreading-local-files.md","ref":"savingreading-local-files.md","articles":[]},"dir":"ltr"},"config":{"plugins":[],"root":"","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"en","gitbook":"*"},"file":{"path":"service-worker.md","mtime":"2018-05-20T17:10:14.001Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2018-05-20T17:13:35.812Z"},"basePath":".","book":{"language":"en"}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

